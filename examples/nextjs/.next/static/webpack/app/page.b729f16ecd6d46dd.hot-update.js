"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/../../src/adapter.ts":
/*!****************************!*\
  !*** ../../src/adapter.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WEBSIG_NAME: () => (/* binding */ WEBSIG_NAME),\n/* harmony export */   WebSigWalletAdapter: () => (/* binding */ WebSigWalletAdapter)\n/* harmony export */ });\n/* harmony import */ var _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana/wallet-adapter-base */ \"(app-pages-browser)/../../node_modules/@solana/wallet-adapter-base/lib/esm/signer.js\");\n/* harmony import */ var _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @solana/wallet-adapter-base */ \"(app-pages-browser)/../../node_modules/@solana/wallet-adapter-base/lib/esm/adapter.js\");\n/* harmony import */ var _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @solana/wallet-adapter-base */ \"(app-pages-browser)/../../node_modules/@solana/wallet-adapter-base/lib/esm/errors.js\");\n/* harmony import */ var _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @solana/wallet-adapter-base */ \"(app-pages-browser)/../../node_modules/@solana/wallet-adapter-base/lib/esm/transaction.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/web3.js */ \"(app-pages-browser)/../../node_modules/@solana/web3.js/lib/index.browser.esm.js\");\n/* harmony import */ var _icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./icon */ \"(app-pages-browser)/../../src/icon.ts\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/../../node_modules/buffer/index.js\")[\"Buffer\"];\n\n\n\nconst WEBSIG_NAME = 'WebSig';\n// Production URL - change this when deploying\n// Use localhost in development, production URL otherwise\nconst WEBSIG_URL = process.env.NEXT_PUBLIC_WEBSIG_URL || ( true && window.location.hostname === 'localhost' ? 'http://localhost:3000' : 'https://websig.xyz');\nclass WebSigWalletAdapter extends _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_2__.BaseMessageSignerWalletAdapter {\n    get publicKey() {\n        return this._publicKey;\n    }\n    get connecting() {\n        return this._connecting;\n    }\n    get readyState() {\n        if (false) {}\n        // Always show as \"Installed\" - WebSig is always ready!\n        // This makes the wallet selector call connect() directly instead of opening a URL\n        return _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_3__.WalletReadyState.Installed;\n    }\n    _handleMessage(event) {\n        // Security: Only accept messages from WebSig\n        if (event.origin !== WEBSIG_URL) return;\n        const { type, id, error, ...data } = event.data;\n        // Handle async responses\n        if (id && this._responseHandlers.has(id)) {\n            const { resolve, reject } = this._responseHandlers.get(id);\n            this._responseHandlers.delete(id);\n            if (error) {\n                reject(new Error(error));\n            } else {\n                resolve(data);\n            }\n            return;\n        }\n        // Handle events\n        switch(type){\n            case 'websig:connected':\n                this._publicKey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.PublicKey(data.publicKey);\n                this.emit('connect', this._publicKey);\n                break;\n            case 'websig:disconnected':\n                this._handleDisconnect();\n                break;\n            case 'websig:accountChanged':\n                this._publicKey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.PublicKey(data.publicKey);\n                // Emit disconnect and reconnect to notify of account change\n                this.emit('disconnect');\n                this.emit('connect', this._publicKey);\n                break;\n        }\n    }\n    async _sendMessage(method, params) {\n        if (!this.connected) {\n            throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletNotConnectedError();\n        }\n        const id = Math.random().toString(36).substr(2, 9);\n        return new Promise((resolve, reject)=>{\n            this._responseHandlers.set(id, {\n                resolve,\n                reject\n            });\n            // Send message to the iframe/window that has our wallet\n            window.postMessage({\n                source: 'websig-adapter',\n                id,\n                method,\n                params\n            }, WEBSIG_URL);\n            // Timeout after 30 seconds\n            setTimeout(()=>{\n                if (this._responseHandlers.has(id)) {\n                    this._responseHandlers.delete(id);\n                    reject(new Error('Request timeout'));\n                }\n            }, 30000);\n        });\n    }\n    async connect() {\n        try {\n            if (this.connected || this.connecting) return;\n            this._connecting = true;\n            // Build connection URL with DApp info\n            const url = new URL('/connect', WEBSIG_URL);\n            url.searchParams.set('origin', window.location.origin);\n            url.searchParams.set('name', document.title || 'DApp');\n            // Add DApp icon if available\n            const favicon = document.querySelector('link[rel=\"icon\"]');\n            if (favicon) {\n                url.searchParams.set('icon', favicon.href);\n            }\n            // Detect mobile for better UX\n            const isMobile = /iPhone|iPad|Android/i.test(navigator.userAgent);\n            // Check if we're in a cross-origin context\n            // Note: Different ports on localhost are considered cross-origin\n            const isCrossOrigin = window.location.origin !== WEBSIG_URL;\n            if (isMobile) {\n                // Mobile: Open in same tab with return URL\n                url.searchParams.set('return', window.location.href);\n                window.location.href = url.toString();\n            } else if (isCrossOrigin) {\n                // Cross-origin detected (e.g., localhost:3001 â†’ localhost:3000)\n                // Browser security prevents passkeys in cross-origin iframes\n                // Using popup as fallback for secure authentication\n                await this._createPopup(url.toString());\n            } else {\n                // Same-origin: Beautiful Porto-style integrated modal\n                // This provides the best UX when deployed on same domain\n                await this._createIntegratedModal(url.toString());\n            }\n        } catch (error) {\n            this.emit('error', error);\n            throw error;\n        } finally{\n            this._connecting = false;\n        }\n    }\n    async _createIntegratedModal(url) {\n        return new Promise((resolve, reject)=>{\n            // Hide any existing wallet modal (like the wallet selector)\n            const existingModals = document.querySelectorAll('.wallet-adapter-modal');\n            existingModals.forEach((modal)=>{\n                modal.style.display = 'none';\n            });\n            // Create native dialog element like Porto\n            const dialog = document.createElement('dialog');\n            dialog.dataset.websig = '';\n            dialog.setAttribute('role', 'dialog');\n            dialog.setAttribute('aria-label', 'WebSig Wallet');\n            // Style the dialog itself to be transparent\n            Object.assign(dialog.style, {\n                background: 'transparent',\n                border: '0',\n                outline: '0',\n                padding: '0',\n                position: 'fixed',\n                maxWidth: '100vw',\n                maxHeight: '100vh'\n            });\n            // Create iframe\n            const iframe = document.createElement('iframe');\n            iframe.setAttribute('data-testid', 'websig');\n            iframe.setAttribute('tabindex', '0');\n            iframe.setAttribute('title', 'WebSig');\n            // Allow clipboard access and other necessary permissions\n            // Include all WebAuthn permissions and mark as same-origin\n            iframe.setAttribute('allow', 'clipboard-read; clipboard-write; publickey-credentials-create *; publickey-credentials-get *; payment *');\n            iframe.src = url;\n            // Style iframe exactly like Porto's modal\n            Object.assign(iframe.style, {\n                backgroundColor: 'transparent',\n                border: '0',\n                borderRadius: '16px',\n                width: '380px',\n                maxWidth: '90vw',\n                height: '270px',\n                position: 'fixed',\n                left: '50%',\n                top: '50%',\n                transform: 'translate(-50%, -50%)',\n                zIndex: '999999'\n            });\n            // Add styles for backdrop and animations like Porto\n            const style = document.createElement('style');\n            style.innerHTML = '\\n        dialog[data-websig]::backdrop {\\n          background: rgba(0, 0, 0, 0.4);\\n          backdrop-filter: blur(4px);\\n        }\\n        @keyframes websigFadeIn {\\n          from { opacity: 0; }\\n          to { opacity: 1; }\\n        }\\n        @keyframes websigSlideUp {\\n          from { \\n            transform: translate(-50%, calc(-50% + 20px)) scale(0.95); \\n            opacity: 0; \\n          }\\n          to { \\n            transform: translate(-50%, -50%) scale(1); \\n            opacity: 1; \\n          }\\n        }\\n        iframe[data-testid=\"websig\"] {\\n          animation: websigSlideUp 0.2s ease;\\n        }\\n      ';\n            document.head.appendChild(style);\n            // Store body style to restore later (like Porto)\n            let bodyStyle = null;\n            let opener = null;\n            // Function to cleanup and restore\n            const cleanup = ()=>{\n                // Restore body scroll\n                if (bodyStyle) {\n                    Object.assign(document.body.style, bodyStyle);\n                    var _bodyStyle_overflow;\n                    document.body.style.overflow = (_bodyStyle_overflow = bodyStyle.overflow) !== null && _bodyStyle_overflow !== void 0 ? _bodyStyle_overflow : '';\n                }\n                // Close dialog\n                if (dialog.open) {\n                    dialog.close();\n                }\n                // Remove from DOM\n                if (dialog.parentNode) {\n                    dialog.remove();\n                }\n                // Remove styles\n                if (style.parentNode) {\n                    document.head.removeChild(style);\n                }\n                // Restore focus\n                opener === null || opener === void 0 ? void 0 : opener.focus();\n                opener = null;\n                // Restore hidden wallet modals\n                const existingModals = document.querySelectorAll('.wallet-adapter-modal');\n                existingModals.forEach((modal)=>{\n                    modal.style.display = '';\n                });\n            };\n            // Handle backdrop click (dialog handles this natively)\n            dialog.addEventListener('click', (e)=>{\n                // Check if click was on the backdrop (outside iframe)\n                const rect = iframe.getBoundingClientRect();\n                const clickedInside = e.clientX >= rect.left && e.clientX <= rect.right && e.clientY >= rect.top && e.clientY <= rect.bottom;\n                if (!clickedInside) {\n                    cleanup();\n                    if (!this.connected) {\n                        reject(new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletConnectionError('Connection cancelled'));\n                    }\n                }\n            });\n            // Handle escape key (dialog handles this natively too)\n            dialog.addEventListener('cancel', (e)=>{\n                e.preventDefault();\n                cleanup();\n                if (!this.connected) {\n                    reject(new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletConnectionError('Connection cancelled'));\n                }\n            });\n            // Listen for connection messages from iframe\n            const handleMessage = (event)=>{\n                // Check if the message is from our iframe (WebSig origin)\n                if (event.origin !== WEBSIG_URL) return;\n                if (event.data.type === 'websig:connected') {\n                    this._publicKey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.PublicKey(event.data.publicKey);\n                    window.removeEventListener('message', handleMessage);\n                    cleanup();\n                    this.emit('connect', this._publicKey);\n                    resolve();\n                } else if (event.data.type === 'websig:rejected') {\n                    window.removeEventListener('message', handleMessage);\n                    cleanup();\n                    reject(new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletConnectionError('User rejected the connection'));\n                }\n            };\n            window.addEventListener('message', handleMessage);\n            // Build dialog structure\n            dialog.appendChild(iframe);\n            document.body.appendChild(dialog);\n            // Store current focused element\n            if (document.activeElement instanceof HTMLElement) {\n                opener = document.activeElement;\n            }\n            // Store body styles and prevent scrolling\n            bodyStyle = Object.assign({}, document.body.style);\n            document.body.style.overflow = 'hidden';\n            // Show the dialog as modal (like Porto)\n            dialog.showModal();\n            iframe.focus();\n        });\n    }\n    async _createPopup(url) {\n        return new Promise((resolve, reject)=>{\n            // Calculate center position for optimal viewing\n            const width = 420;\n            const height = 600;\n            const left = Math.max(0, (window.screen.width - width) / 2);\n            const top = Math.max(0, (window.screen.height - height) / 2);\n            // Open popup window with clean, minimal chrome\n            const popup = window.open(url, 'WebSig Wallet', \"width=\".concat(width, \",height=\").concat(height, \",left=\").concat(left, \",top=\").concat(top, \",\") + \"resizable=no,scrollbars=yes,toolbar=no,menubar=no,location=no,status=no\");\n            if (!popup) {\n                reject(new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletConnectionError('Please allow popups to connect your wallet'));\n                return;\n            }\n            // Listen for messages from the popup (WebSig will post a message when connected)\n            const handleMessage = (event)=>{\n                var _event_data, _event_data1;\n                // Verify the origin matches WEBSIG_URL\n                if (event.origin !== WEBSIG_URL) {\n                    return;\n                }\n                if (((_event_data = event.data) === null || _event_data === void 0 ? void 0 : _event_data.type) === 'websig:connected' && ((_event_data1 = event.data) === null || _event_data1 === void 0 ? void 0 : _event_data1.publicKey)) {\n                    // Connection successful\n                    window.removeEventListener('message', handleMessage);\n                    clearInterval(checkInterval);\n                    this._publicKey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.PublicKey(event.data.publicKey);\n                    this.emit('connect', this._publicKey);\n                    // Close the popup\n                    popup.close();\n                    resolve();\n                }\n            };\n            window.addEventListener('message', handleMessage);\n            // Poll to check if popup was closed\n            const checkInterval = setInterval(()=>{\n                if (popup.closed) {\n                    clearInterval(checkInterval);\n                    window.removeEventListener('message', handleMessage);\n                    if (!this.connected) {\n                        reject(new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletConnectionError('Connection cancelled'));\n                    }\n                }\n            }, 500);\n            // Timeout after 2 minutes\n            setTimeout(()=>{\n                clearInterval(checkInterval);\n                window.removeEventListener('message', handleMessage);\n                if (!this.connected && !popup.closed) {\n                    popup.close();\n                    reject(new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletConnectionError('Connection timeout'));\n                }\n            }, 120000);\n        });\n    }\n    async disconnect() {\n        if (this.connected) {\n            try {\n                await this._sendMessage('disconnect');\n            } catch (e) {\n            // Ignore errors during disconnect\n            }\n        }\n        this._handleDisconnect();\n    }\n    _handleDisconnect() {\n        this._publicKey = null;\n        this._responseHandlers.clear();\n        this.emit('disconnect');\n    }\n    async signTransaction(transaction) {\n        try {\n            if (!this.connected) throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletNotConnectedError();\n            // Serialize transaction\n            const serialized = (0,_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_5__.isVersionedTransaction)(transaction) ? Buffer.from(transaction.serialize()).toString('base64') : Buffer.from(transaction.serialize({\n                requireAllSignatures: false,\n                verifySignatures: false\n            })).toString('base64');\n            // Send to WebSig for signing\n            const response = await this._sendMessage('signTransaction', {\n                transaction: serialized,\n                options: {\n                    isVersioned: (0,_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_5__.isVersionedTransaction)(transaction)\n                }\n            });\n            // Deserialize and add signature\n            const signature = Buffer.from(response.signature, 'base64');\n            if ((0,_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_5__.isVersionedTransaction)(transaction)) {\n                transaction.addSignature(this._publicKey, signature);\n            } else {\n                transaction.addSignature(this._publicKey, signature);\n            }\n            return transaction;\n        } catch (error) {\n            throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletSignTransactionError((error === null || error === void 0 ? void 0 : error.message) || 'Transaction signing failed');\n        }\n    }\n    async signAllTransactions(transactions) {\n        if (!this.connected) throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletNotConnectedError();\n        // Sign one by one with user approval for each\n        const signed = [];\n        for (const transaction of transactions){\n            signed.push(await this.signTransaction(transaction));\n        }\n        return signed;\n    }\n    async signMessage(message) {\n        try {\n            if (!this.connected) throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletNotConnectedError();\n            const response = await this._sendMessage('signMessage', {\n                message: Buffer.from(message).toString('base64')\n            });\n            return Buffer.from(response.signature, 'base64');\n        } catch (error) {\n            throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletSignMessageError((error === null || error === void 0 ? void 0 : error.message) || 'Message signing failed');\n        }\n    }\n    constructor(){\n        super(), this.name = WEBSIG_NAME, this.url = WEBSIG_URL, this.icon = _icon__WEBPACK_IMPORTED_MODULE_1__.WEBSIG_ICON, this.supportedTransactionVersions = new Set([\n            'legacy',\n            0\n        ]), this._connecting = false, this._publicKey = null, this._responseHandlers = new Map();\n        if (true) {\n            window.addEventListener('message', this._handleMessage.bind(this));\n        }\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9zcmMvYWRhcHRlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBU3FDO0FBS1o7QUFDWTtBQUU5QixNQUFNUyxjQUFjLFNBQXVCO0FBRWxELDhDQUE4QztBQUM5Qyx5REFBeUQ7QUFDekQsTUFBTUMsYUFBYUMsT0FBT0EsQ0FBQ0MsR0FBRyxDQUFDQyxzQkFBc0IsSUFDbEQsTUFBNkIsSUFBSUMsT0FBT0MsUUFBUSxDQUFDQyxRQUFRLEtBQUssY0FBYywwQkFBMEIsb0JBQW1CO0FBRXJILE1BQU1DLDRCQUE0QmpCLHVGQUE4QkE7SUFpQnJFLElBQUlrQixZQUFZO1FBQ2QsT0FBTyxJQUFJLENBQUNDLFVBQVU7SUFDeEI7SUFFQSxJQUFJQyxhQUFhO1FBQ2YsT0FBTyxJQUFJLENBQUNDLFdBQVc7SUFDekI7SUFFQSxJQUFJQyxhQUFhO1FBQ2YsSUFBSSxLQUE2QixFQUFFLEVBQW9DO1FBRXZFLHVEQUF1RDtRQUN2RCxrRkFBa0Y7UUFDbEYsT0FBT3JCLHlFQUFnQkEsQ0FBQ3VCLFNBQVM7SUFDbkM7SUFFUUMsZUFBZUMsS0FBbUIsRUFBRTtRQUMxQyw2Q0FBNkM7UUFDN0MsSUFBSUEsTUFBTUMsTUFBTSxLQUFLakIsWUFBWTtRQUVqQyxNQUFNLEVBQUVrQixJQUFJLEVBQUVDLEVBQUUsRUFBRUMsS0FBSyxFQUFFLEdBQUdDLE1BQU0sR0FBR0wsTUFBTUssSUFBSTtRQUUvQyx5QkFBeUI7UUFDekIsSUFBSUYsTUFBTSxJQUFJLENBQUNHLGlCQUFpQixDQUFDQyxHQUFHLENBQUNKLEtBQUs7WUFDeEMsTUFBTSxFQUFFSyxPQUFPLEVBQUVDLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQ0gsaUJBQWlCLENBQUNJLEdBQUcsQ0FBQ1A7WUFDdkQsSUFBSSxDQUFDRyxpQkFBaUIsQ0FBQ0ssTUFBTSxDQUFDUjtZQUU5QixJQUFJQyxPQUFPO2dCQUNUSyxPQUFPLElBQUlHLE1BQU1SO1lBQ25CLE9BQU87Z0JBQ0xJLFFB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SUMsSUFBSTtZQUFDO1lBQVU7U0FBRSxRQUU1QzVJLGNBQWMsWUFDZEYsYUFBK0IsV0FDL0JhLG9CQUFvQixJQUFJa0k7UUFJOUIsSUFBSSxJQUE2QixFQUFFO1lBQ2pDcEosT0FBT29HLGdCQUFnQixDQUFDLFdBQVcsSUFBSSxDQUFDekYsY0FBYyxDQUFDMEksSUFBSSxDQUFDLElBQUk7UUFDbEU7SUFDRjtBQXFkRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vc3JjL2FkYXB0ZXIudHM/NTVjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBCYXNlTWVzc2FnZVNpZ25lcldhbGxldEFkYXB0ZXIsXG4gIFdhbGxldE5hbWUsXG4gIFdhbGxldFJlYWR5U3RhdGUsXG4gIFdhbGxldENvbm5lY3Rpb25FcnJvcixcbiAgV2FsbGV0Tm90Q29ubmVjdGVkRXJyb3IsXG4gIFdhbGxldFNpZ25UcmFuc2FjdGlvbkVycm9yLFxuICBXYWxsZXRTaWduTWVzc2FnZUVycm9yLFxuICBpc1ZlcnNpb25lZFRyYW5zYWN0aW9uLFxufSBmcm9tICdAc29sYW5hL3dhbGxldC1hZGFwdGVyLWJhc2UnO1xuaW1wb3J0IHtcbiAgUHVibGljS2V5LFxuICBUcmFuc2FjdGlvbixcbiAgVmVyc2lvbmVkVHJhbnNhY3Rpb24sXG59IGZyb20gJ0Bzb2xhbmEvd2ViMy5qcyc7XG5pbXBvcnQgeyBXRUJTSUdfSUNPTiB9IGZyb20gJy4vaWNvbic7XG5cbmV4cG9ydCBjb25zdCBXRUJTSUdfTkFNRSA9ICdXZWJTaWcnIGFzIFdhbGxldE5hbWU7XG5cbi8vIFByb2R1Y3Rpb24gVVJMIC0gY2hhbmdlIHRoaXMgd2hlbiBkZXBsb3lpbmdcbi8vIFVzZSBsb2NhbGhvc3QgaW4gZGV2ZWxvcG1lbnQsIHByb2R1Y3Rpb24gVVJMIG90aGVyd2lzZVxuY29uc3QgV0VCU0lHX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1dFQlNJR19VUkwgfHwgXG4gICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09ICdsb2NhbGhvc3QnID8gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcgOiAnaHR0cHM6Ly93ZWJzaWcueHl6Jyk7XG5cbmV4cG9ydCBjbGFzcyBXZWJTaWdXYWxsZXRBZGFwdGVyIGV4dGVuZHMgQmFzZU1lc3NhZ2VTaWduZXJXYWxsZXRBZGFwdGVyIHtcbiAgbmFtZSA9IFdFQlNJR19OQU1FO1xuICB1cmwgPSBXRUJTSUdfVVJMO1xuICBpY29uID0gV0VCU0lHX0lDT047XG4gIHN1cHBvcnRlZFRyYW5zYWN0aW9uVmVyc2lvbnMgPSBuZXcgU2V0KFsnbGVnYWN5JywgMF0gYXMgY29uc3QpO1xuXG4gIHByaXZhdGUgX2Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgcHJpdmF0ZSBfcHVibGljS2V5OiBQdWJsaWNLZXkgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBfcmVzcG9uc2VIYW5kbGVycyA9IG5ldyBNYXA8c3RyaW5nLCB7IHJlc29sdmU6IEZ1bmN0aW9uOyByZWplY3Q6IEZ1bmN0aW9uIH0+KCk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5faGFuZGxlTWVzc2FnZS5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH1cblxuICBnZXQgcHVibGljS2V5KCkge1xuICAgIHJldHVybiB0aGlzLl9wdWJsaWNLZXk7XG4gIH1cblxuICBnZXQgY29ubmVjdGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5fY29ubmVjdGluZztcbiAgfVxuXG4gIGdldCByZWFkeVN0YXRlKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIFdhbGxldFJlYWR5U3RhdGUuVW5zdXBwb3J0ZWQ7XG4gICAgXG4gICAgLy8gQWx3YXlzIHNob3cgYXMgXCJJbnN0YWxsZWRcIiAtIFdlYlNpZyBpcyBhbHdheXMgcmVhZHkhXG4gICAgLy8gVGhpcyBtYWtlcyB0aGUgd2FsbGV0IHNlbGVjdG9yIGNhbGwgY29ubmVjdCgpIGRpcmVjdGx5IGluc3RlYWQgb2Ygb3BlbmluZyBhIFVSTFxuICAgIHJldHVybiBXYWxsZXRSZWFkeVN0YXRlLkluc3RhbGxlZDtcbiAgfVxuXG4gIHByaXZhdGUgX2hhbmRsZU1lc3NhZ2UoZXZlbnQ6IE1lc3NhZ2VFdmVudCkge1xuICAgIC8vIFNlY3VyaXR5OiBPbmx5IGFjY2VwdCBtZXNzYWdlcyBmcm9tIFdlYlNpZ1xuICAgIGlmIChldmVudC5vcmlnaW4gIT09IFdFQlNJR19VUkwpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCB7IHR5cGUsIGlkLCBlcnJvciwgLi4uZGF0YSB9ID0gZXZlbnQuZGF0YTtcbiAgICBcbiAgICAvLyBIYW5kbGUgYXN5bmMgcmVzcG9uc2VzXG4gICAgaWYgKGlkICYmIHRoaXMuX3Jlc3BvbnNlSGFuZGxlcnMuaGFzKGlkKSkge1xuICAgICAgY29uc3QgeyByZXNvbHZlLCByZWplY3QgfSA9IHRoaXMuX3Jlc3BvbnNlSGFuZGxlcnMuZ2V0KGlkKSE7XG4gICAgICB0aGlzLl9yZXNwb25zZUhhbmRsZXJzLmRlbGV0ZShpZCk7XG4gICAgICBcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKGVycm9yKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBIYW5kbGUgZXZlbnRzXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICd3ZWJzaWc6Y29ubmVjdGVkJzpcbiAgICAgICAgdGhpcy5fcHVibGljS2V5ID0gbmV3IFB1YmxpY0tleShkYXRhLnB1YmxpY0tleSk7XG4gICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdCcsIHRoaXMuX3B1YmxpY0tleSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgJ3dlYnNpZzpkaXNjb25uZWN0ZWQnOlxuICAgICAgICB0aGlzLl9oYW5kbGVEaXNjb25uZWN0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgJ3dlYnNpZzphY2NvdW50Q2hhbmdlZCc6XG4gICAgICAgIHRoaXMuX3B1YmxpY0tleSA9IG5ldyBQdWJsaWNLZXkoZGF0YS5wdWJsaWNLZXkpO1xuICAgICAgICAvLyBFbWl0IGRpc2Nvbm5lY3QgYW5kIHJlY29ubmVjdCB0byBub3RpZnkgb2YgYWNjb3VudCBjaGFuZ2VcbiAgICAgICAgdGhpcy5lbWl0KCdkaXNjb25uZWN0Jyk7XG4gICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdCcsIHRoaXMuX3B1YmxpY0tleSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX3NlbmRNZXNzYWdlKG1ldGhvZDogc3RyaW5nLCBwYXJhbXM/OiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBXYWxsZXROb3RDb25uZWN0ZWRFcnJvcigpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBpZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KTtcbiAgICBcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fcmVzcG9uc2VIYW5kbGVycy5zZXQoaWQsIHsgcmVzb2x2ZSwgcmVqZWN0IH0pO1xuICAgICAgXG4gICAgICAvLyBTZW5kIG1lc3NhZ2UgdG8gdGhlIGlmcmFtZS93aW5kb3cgdGhhdCBoYXMgb3VyIHdhbGxldFxuICAgICAgd2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgc291cmNlOiAnd2Vic2lnLWFkYXB0ZXInLFxuICAgICAgICBpZCxcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBwYXJhbXMsXG4gICAgICB9LCBXRUJTSUdfVVJMKTtcbiAgICAgIFxuICAgICAgLy8gVGltZW91dCBhZnRlciAzMCBzZWNvbmRzXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuX3Jlc3BvbnNlSGFuZGxlcnMuaGFzKGlkKSkge1xuICAgICAgICAgIHRoaXMuX3Jlc3BvbnNlSGFuZGxlcnMuZGVsZXRlKGlkKTtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdSZXF1ZXN0IHRpbWVvdXQnKSk7XG4gICAgICAgIH1cbiAgICAgIH0sIDMwMDAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGNvbm5lY3QoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCB8fCB0aGlzLmNvbm5lY3RpbmcpIHJldHVybjtcbiAgICAgIFxuICAgICAgdGhpcy5fY29ubmVjdGluZyA9IHRydWU7XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIGNvbm5lY3Rpb24gVVJMIHdpdGggREFwcCBpbmZvXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKCcvY29ubmVjdCcsIFdFQlNJR19VUkwpO1xuICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ29yaWdpbicsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pO1xuICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ25hbWUnLCBkb2N1bWVudC50aXRsZSB8fCAnREFwcCcpO1xuICAgICAgXG4gICAgICAvLyBBZGQgREFwcCBpY29uIGlmIGF2YWlsYWJsZVxuICAgICAgY29uc3QgZmF2aWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTExpbmtFbGVtZW50PignbGlua1tyZWw9XCJpY29uXCJdJyk7XG4gICAgICBpZiAoZmF2aWNvbikge1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnaWNvbicsIGZhdmljb24uaHJlZik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIERldGVjdCBtb2JpbGUgZm9yIGJldHRlciBVWFxuICAgICAgY29uc3QgaXNNb2JpbGUgPSAvaVBob25lfGlQYWR8QW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHdlJ3JlIGluIGEgY3Jvc3Mtb3JpZ2luIGNvbnRleHRcbiAgICAgIC8vIE5vdGU6IERpZmZlcmVudCBwb3J0cyBvbiBsb2NhbGhvc3QgYXJlIGNvbnNpZGVyZWQgY3Jvc3Mtb3JpZ2luXG4gICAgICBjb25zdCBpc0Nyb3NzT3JpZ2luID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiAhPT0gV0VCU0lHX1VSTDtcbiAgICAgIFxuICAgICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICAgIC8vIE1vYmlsZTogT3BlbiBpbiBzYW1lIHRhYiB3aXRoIHJldHVybiBVUkxcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3JldHVybicsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmwudG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNDcm9zc09yaWdpbikge1xuICAgICAgICAvLyBDcm9zcy1vcmlnaW4gZGV0ZWN0ZWQgKGUuZy4sIGxvY2FsaG9zdDozMDAxIOKGkiBsb2NhbGhvc3Q6MzAwMClcbiAgICAgICAgLy8gQnJvd3NlciBzZWN1cml0eSBwcmV2ZW50cyBwYXNza2V5cyBpbiBjcm9zcy1vcmlnaW4gaWZyYW1lc1xuICAgICAgICAvLyBVc2luZyBwb3B1cCBhcyBmYWxsYmFjayBmb3Igc2VjdXJlIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgIGF3YWl0IHRoaXMuX2NyZWF0ZVBvcHVwKHVybC50b1N0cmluZygpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNhbWUtb3JpZ2luOiBCZWF1dGlmdWwgUG9ydG8tc3R5bGUgaW50ZWdyYXRlZCBtb2RhbFxuICAgICAgICAvLyBUaGlzIHByb3ZpZGVzIHRoZSBiZXN0IFVYIHdoZW4gZGVwbG95ZWQgb24gc2FtZSBkb21haW5cbiAgICAgICAgYXdhaXQgdGhpcy5fY3JlYXRlSW50ZWdyYXRlZE1vZGFsKHVybC50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuX2Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9jcmVhdGVJbnRlZ3JhdGVkTW9kYWwodXJsOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgLy8gSGlkZSBhbnkgZXhpc3Rpbmcgd2FsbGV0IG1vZGFsIChsaWtlIHRoZSB3YWxsZXQgc2VsZWN0b3IpXG4gICAgICBjb25zdCBleGlzdGluZ01vZGFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy53YWxsZXQtYWRhcHRlci1tb2RhbCcpO1xuICAgICAgZXhpc3RpbmdNb2RhbHMuZm9yRWFjaChtb2RhbCA9PiB7XG4gICAgICAgIChtb2RhbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDcmVhdGUgbmF0aXZlIGRpYWxvZyBlbGVtZW50IGxpa2UgUG9ydG9cbiAgICAgIGNvbnN0IGRpYWxvZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpYWxvZycpO1xuICAgICAgZGlhbG9nLmRhdGFzZXQud2Vic2lnID0gJyc7XG4gICAgICBkaWFsb2cuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2RpYWxvZycpO1xuICAgICAgZGlhbG9nLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdXZWJTaWcgV2FsbGV0Jyk7XG4gICAgICBcbiAgICAgIC8vIFN0eWxlIHRoZSBkaWFsb2cgaXRzZWxmIHRvIGJlIHRyYW5zcGFyZW50XG4gICAgICBPYmplY3QuYXNzaWduKGRpYWxvZy5zdHlsZSwge1xuICAgICAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICBib3JkZXI6ICcwJyxcbiAgICAgICAgb3V0bGluZTogJzAnLFxuICAgICAgICBwYWRkaW5nOiAnMCcsXG4gICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICBtYXhXaWR0aDogJzEwMHZ3JyxcbiAgICAgICAgbWF4SGVpZ2h0OiAnMTAwdmgnLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSBpZnJhbWVcbiAgICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnZGF0YS10ZXN0aWQnLCAnd2Vic2lnJyk7XG4gICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCd0aXRsZScsICdXZWJTaWcnKTtcbiAgICAgIC8vIEFsbG93IGNsaXBib2FyZCBhY2Nlc3MgYW5kIG90aGVyIG5lY2Vzc2FyeSBwZXJtaXNzaW9uc1xuICAgICAgLy8gSW5jbHVkZSBhbGwgV2ViQXV0aG4gcGVybWlzc2lvbnMgYW5kIG1hcmsgYXMgc2FtZS1vcmlnaW5cbiAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2FsbG93JywgJ2NsaXBib2FyZC1yZWFkOyBjbGlwYm9hcmQtd3JpdGU7IHB1YmxpY2tleS1jcmVkZW50aWFscy1jcmVhdGUgKjsgcHVibGlja2V5LWNyZWRlbnRpYWxzLWdldCAqOyBwYXltZW50IConKTtcbiAgICAgIGlmcmFtZS5zcmMgPSB1cmw7XG4gICAgICBcbiAgICAgIC8vIFN0eWxlIGlmcmFtZSBleGFjdGx5IGxpa2UgUG9ydG8ncyBtb2RhbFxuICAgICAgT2JqZWN0LmFzc2lnbihpZnJhbWUuc3R5bGUsIHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICBib3JkZXI6ICcwJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTZweCcsXG4gICAgICAgIHdpZHRoOiAnMzgwcHgnLFxuICAgICAgICBtYXhXaWR0aDogJzkwdncnLFxuICAgICAgICBoZWlnaHQ6ICcyNzBweCcsXG4gICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgdG9wOiAnNTAlJyxcbiAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJyxcbiAgICAgICAgekluZGV4OiAnOTk5OTk5JyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBZGQgc3R5bGVzIGZvciBiYWNrZHJvcCBhbmQgYW5pbWF0aW9ucyBsaWtlIFBvcnRvXG4gICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZS5pbm5lckhUTUwgPSBgXG4gICAgICAgIGRpYWxvZ1tkYXRhLXdlYnNpZ106OmJhY2tkcm9wIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNCk7XG4gICAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDRweCk7XG4gICAgICAgIH1cbiAgICAgICAgQGtleWZyYW1lcyB3ZWJzaWdGYWRlSW4ge1xuICAgICAgICAgIGZyb20geyBvcGFjaXR5OiAwOyB9XG4gICAgICAgICAgdG8geyBvcGFjaXR5OiAxOyB9XG4gICAgICAgIH1cbiAgICAgICAgQGtleWZyYW1lcyB3ZWJzaWdTbGlkZVVwIHtcbiAgICAgICAgICBmcm9tIHsgXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCBjYWxjKC01MCUgKyAyMHB4KSkgc2NhbGUoMC45NSk7IFxuICAgICAgICAgICAgb3BhY2l0eTogMDsgXG4gICAgICAgICAgfVxuICAgICAgICAgIHRvIHsgXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxKTsgXG4gICAgICAgICAgICBvcGFjaXR5OiAxOyBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWZyYW1lW2RhdGEtdGVzdGlkPVwid2Vic2lnXCJdIHtcbiAgICAgICAgICBhbmltYXRpb246IHdlYnNpZ1NsaWRlVXAgMC4ycyBlYXNlO1xuICAgICAgICB9XG4gICAgICBgO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cbiAgICAgIC8vIFN0b3JlIGJvZHkgc3R5bGUgdG8gcmVzdG9yZSBsYXRlciAobGlrZSBQb3J0bylcbiAgICAgIGxldCBib2R5U3R5bGU6IENTU1N0eWxlRGVjbGFyYXRpb24gfCBudWxsID0gbnVsbDtcbiAgICAgIGxldCBvcGVuZXI6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgICAgIC8vIEZ1bmN0aW9uIHRvIGNsZWFudXAgYW5kIHJlc3RvcmVcbiAgICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgIC8vIFJlc3RvcmUgYm9keSBzY3JvbGxcbiAgICAgICAgaWYgKGJvZHlTdHlsZSkge1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24oZG9jdW1lbnQuYm9keS5zdHlsZSwgYm9keVN0eWxlKTtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gYm9keVN0eWxlLm92ZXJmbG93ID8/ICcnO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDbG9zZSBkaWFsb2dcbiAgICAgICAgaWYgKGRpYWxvZy5vcGVuKSB7XG4gICAgICAgICAgZGlhbG9nLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIERPTVxuICAgICAgICBpZiAoZGlhbG9nLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBkaWFsb2cucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJlbW92ZSBzdHlsZXNcbiAgICAgICAgaWYgKHN0eWxlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVzdG9yZSBmb2N1c1xuICAgICAgICBvcGVuZXI/LmZvY3VzKCk7XG4gICAgICAgIG9wZW5lciA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICAvLyBSZXN0b3JlIGhpZGRlbiB3YWxsZXQgbW9kYWxzXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nTW9kYWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndhbGxldC1hZGFwdGVyLW1vZGFsJyk7XG4gICAgICAgIGV4aXN0aW5nTW9kYWxzLmZvckVhY2gobW9kYWwgPT4ge1xuICAgICAgICAgIChtb2RhbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIC8vIEhhbmRsZSBiYWNrZHJvcCBjbGljayAoZGlhbG9nIGhhbmRsZXMgdGhpcyBuYXRpdmVseSlcbiAgICAgIGRpYWxvZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIC8vIENoZWNrIGlmIGNsaWNrIHdhcyBvbiB0aGUgYmFja2Ryb3AgKG91dHNpZGUgaWZyYW1lKVxuICAgICAgICBjb25zdCByZWN0ID0gaWZyYW1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBjbGlja2VkSW5zaWRlID0gXG4gICAgICAgICAgZS5jbGllbnRYID49IHJlY3QubGVmdCAmJiBcbiAgICAgICAgICBlLmNsaWVudFggPD0gcmVjdC5yaWdodCAmJiBcbiAgICAgICAgICBlLmNsaWVudFkgPj0gcmVjdC50b3AgJiYgXG4gICAgICAgICAgZS5jbGllbnRZIDw9IHJlY3QuYm90dG9tO1xuICAgICAgICAgIFxuICAgICAgICBpZiAoIWNsaWNrZWRJbnNpZGUpIHtcbiAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBXYWxsZXRDb25uZWN0aW9uRXJyb3IoJ0Nvbm5lY3Rpb24gY2FuY2VsbGVkJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIEhhbmRsZSBlc2NhcGUga2V5IChkaWFsb2cgaGFuZGxlcyB0aGlzIG5hdGl2ZWx5IHRvbylcbiAgICAgIGRpYWxvZy5hZGRFdmVudExpc3RlbmVyKCdjYW5jZWwnLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgIHJlamVjdChuZXcgV2FsbGV0Q29ubmVjdGlvbkVycm9yKCdDb25uZWN0aW9uIGNhbmNlbGxlZCcpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIExpc3RlbiBmb3IgY29ubmVjdGlvbiBtZXNzYWdlcyBmcm9tIGlmcmFtZVxuICAgICAgY29uc3QgaGFuZGxlTWVzc2FnZSA9IChldmVudDogTWVzc2FnZUV2ZW50KSA9PiB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBtZXNzYWdlIGlzIGZyb20gb3VyIGlmcmFtZSAoV2ViU2lnIG9yaWdpbilcbiAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbiAhPT0gV0VCU0lHX1VSTCkgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEudHlwZSA9PT0gJ3dlYnNpZzpjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgdGhpcy5fcHVibGljS2V5ID0gbmV3IFB1YmxpY0tleShldmVudC5kYXRhLnB1YmxpY0tleSk7XG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVNZXNzYWdlKTtcbiAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0JywgdGhpcy5fcHVibGljS2V5KTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuZGF0YS50eXBlID09PSAnd2Vic2lnOnJlamVjdGVkJykge1xuICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlTWVzc2FnZSk7XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgIHJlamVjdChuZXcgV2FsbGV0Q29ubmVjdGlvbkVycm9yKCdVc2VyIHJlamVjdGVkIHRoZSBjb25uZWN0aW9uJykpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZU1lc3NhZ2UpO1xuXG4gICAgICAvLyBCdWlsZCBkaWFsb2cgc3RydWN0dXJlXG4gICAgICBkaWFsb2cuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGlhbG9nKTtcbiAgICAgIFxuICAgICAgLy8gU3RvcmUgY3VycmVudCBmb2N1c2VkIGVsZW1lbnRcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgb3BlbmVyID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU3RvcmUgYm9keSBzdHlsZXMgYW5kIHByZXZlbnQgc2Nyb2xsaW5nXG4gICAgICBib2R5U3R5bGUgPSBPYmplY3QuYXNzaWduKHt9LCBkb2N1bWVudC5ib2R5LnN0eWxlKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIFxuICAgICAgLy8gU2hvdyB0aGUgZGlhbG9nIGFzIG1vZGFsIChsaWtlIFBvcnRvKVxuICAgICAgZGlhbG9nLnNob3dNb2RhbCgpO1xuICAgICAgaWZyYW1lLmZvY3VzKCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9jcmVhdGVQb3B1cCh1cmw6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAvLyBDYWxjdWxhdGUgY2VudGVyIHBvc2l0aW9uIGZvciBvcHRpbWFsIHZpZXdpbmdcbiAgICAgIGNvbnN0IHdpZHRoID0gNDIwO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gNjAwO1xuICAgICAgY29uc3QgbGVmdCA9IE1hdGgubWF4KDAsICh3aW5kb3cuc2NyZWVuLndpZHRoIC0gd2lkdGgpIC8gMik7XG4gICAgICBjb25zdCB0b3AgPSBNYXRoLm1heCgwLCAod2luZG93LnNjcmVlbi5oZWlnaHQgLSBoZWlnaHQpIC8gMik7XG4gICAgICBcbiAgICAgIC8vIE9wZW4gcG9wdXAgd2luZG93IHdpdGggY2xlYW4sIG1pbmltYWwgY2hyb21lXG4gICAgICBjb25zdCBwb3B1cCA9IHdpbmRvdy5vcGVuKFxuICAgICAgICB1cmwsXG4gICAgICAgICdXZWJTaWcgV2FsbGV0JyxcbiAgICAgICAgYHdpZHRoPSR7d2lkdGh9LGhlaWdodD0ke2hlaWdodH0sbGVmdD0ke2xlZnR9LHRvcD0ke3RvcH0sYCArXG4gICAgICAgIGByZXNpemFibGU9bm8sc2Nyb2xsYmFycz15ZXMsdG9vbGJhcj1ubyxtZW51YmFyPW5vLGxvY2F0aW9uPW5vLHN0YXR1cz1ub2BcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmICghcG9wdXApIHtcbiAgICAgICAgcmVqZWN0KG5ldyBXYWxsZXRDb25uZWN0aW9uRXJyb3IoJ1BsZWFzZSBhbGxvdyBwb3B1cHMgdG8gY29ubmVjdCB5b3VyIHdhbGxldCcpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBMaXN0ZW4gZm9yIG1lc3NhZ2VzIGZyb20gdGhlIHBvcHVwIChXZWJTaWcgd2lsbCBwb3N0IGEgbWVzc2FnZSB3aGVuIGNvbm5lY3RlZClcbiAgICAgIGNvbnN0IGhhbmRsZU1lc3NhZ2UgPSAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgICAgICAvLyBWZXJpZnkgdGhlIG9yaWdpbiBtYXRjaGVzIFdFQlNJR19VUkxcbiAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbiAhPT0gV0VCU0lHX1VSTCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGV2ZW50LmRhdGE/LnR5cGUgPT09ICd3ZWJzaWc6Y29ubmVjdGVkJyAmJiBldmVudC5kYXRhPy5wdWJsaWNLZXkpIHtcbiAgICAgICAgICAvLyBDb25uZWN0aW9uIHN1Y2Nlc3NmdWxcbiAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZU1lc3NhZ2UpO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tJbnRlcnZhbCk7XG4gICAgICAgICAgXG4gICAgICAgICAgdGhpcy5fcHVibGljS2V5ID0gbmV3IFB1YmxpY0tleShldmVudC5kYXRhLnB1YmxpY0tleSk7XG4gICAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0JywgdGhpcy5fcHVibGljS2V5KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDbG9zZSB0aGUgcG9wdXBcbiAgICAgICAgICBwb3B1cC5jbG9zZSgpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVNZXNzYWdlKTtcbiAgICAgIFxuICAgICAgLy8gUG9sbCB0byBjaGVjayBpZiBwb3B1cCB3YXMgY2xvc2VkXG4gICAgICBjb25zdCBjaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAocG9wdXAuY2xvc2VkKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0ludGVydmFsKTtcbiAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZU1lc3NhZ2UpO1xuICAgICAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgV2FsbGV0Q29ubmVjdGlvbkVycm9yKCdDb25uZWN0aW9uIGNhbmNlbGxlZCcpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIDUwMCk7XG4gICAgICBcbiAgICAgIC8vIFRpbWVvdXQgYWZ0ZXIgMiBtaW51dGVzXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0ludGVydmFsKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVNZXNzYWdlKTtcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZCAmJiAhcG9wdXAuY2xvc2VkKSB7XG4gICAgICAgICAgcG9wdXAuY2xvc2UoKTtcbiAgICAgICAgICByZWplY3QobmV3IFdhbGxldENvbm5lY3Rpb25FcnJvcignQ29ubmVjdGlvbiB0aW1lb3V0JykpO1xuICAgICAgICB9XG4gICAgICB9LCAxMjAwMDApO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZGlzY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3NlbmRNZXNzYWdlKCdkaXNjb25uZWN0Jyk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gSWdub3JlIGVycm9ycyBkdXJpbmcgZGlzY29ubmVjdFxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICB0aGlzLl9oYW5kbGVEaXNjb25uZWN0KCk7XG4gIH1cblxuICBwcml2YXRlIF9oYW5kbGVEaXNjb25uZWN0KCkge1xuICAgIHRoaXMuX3B1YmxpY0tleSA9IG51bGw7XG4gICAgdGhpcy5fcmVzcG9uc2VIYW5kbGVycy5jbGVhcigpO1xuICAgIFxuICAgIHRoaXMuZW1pdCgnZGlzY29ubmVjdCcpO1xuICB9XG5cbiAgYXN5bmMgc2lnblRyYW5zYWN0aW9uPFQgZXh0ZW5kcyBUcmFuc2FjdGlvbiB8IFZlcnNpb25lZFRyYW5zYWN0aW9uPihcbiAgICB0cmFuc2FjdGlvbjogVFxuICApOiBQcm9taXNlPFQ+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkgdGhyb3cgbmV3IFdhbGxldE5vdENvbm5lY3RlZEVycm9yKCk7XG4gICAgICBcbiAgICAgIFxuICAgICAgLy8gU2VyaWFsaXplIHRyYW5zYWN0aW9uXG4gICAgICBjb25zdCBzZXJpYWxpemVkID0gaXNWZXJzaW9uZWRUcmFuc2FjdGlvbih0cmFuc2FjdGlvbilcbiAgICAgICAgPyBCdWZmZXIuZnJvbSh0cmFuc2FjdGlvbi5zZXJpYWxpemUoKSkudG9TdHJpbmcoJ2Jhc2U2NCcpXG4gICAgICAgIDogQnVmZmVyLmZyb20odHJhbnNhY3Rpb24uc2VyaWFsaXplKHtcbiAgICAgICAgICAgIHJlcXVpcmVBbGxTaWduYXR1cmVzOiBmYWxzZSxcbiAgICAgICAgICAgIHZlcmlmeVNpZ25hdHVyZXM6IGZhbHNlLFxuICAgICAgICAgIH0pKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgICBcbiAgICAgIC8vIFNlbmQgdG8gV2ViU2lnIGZvciBzaWduaW5nXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuX3NlbmRNZXNzYWdlKCdzaWduVHJhbnNhY3Rpb24nLCB7XG4gICAgICAgIHRyYW5zYWN0aW9uOiBzZXJpYWxpemVkLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgaXNWZXJzaW9uZWQ6IGlzVmVyc2lvbmVkVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIERlc2VyaWFsaXplIGFuZCBhZGQgc2lnbmF0dXJlXG4gICAgICBjb25zdCBzaWduYXR1cmUgPSBCdWZmZXIuZnJvbShyZXNwb25zZS5zaWduYXR1cmUsICdiYXNlNjQnKTtcbiAgICAgIFxuICAgICAgaWYgKGlzVmVyc2lvbmVkVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pKSB7XG4gICAgICAgICh0cmFuc2FjdGlvbiBhcyBWZXJzaW9uZWRUcmFuc2FjdGlvbikuYWRkU2lnbmF0dXJlKFxuICAgICAgICAgIHRoaXMuX3B1YmxpY0tleSEsXG4gICAgICAgICAgc2lnbmF0dXJlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAodHJhbnNhY3Rpb24gYXMgVHJhbnNhY3Rpb24pLmFkZFNpZ25hdHVyZShcbiAgICAgICAgICB0aGlzLl9wdWJsaWNLZXkhLFxuICAgICAgICAgIHNpZ25hdHVyZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gdHJhbnNhY3Rpb247XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgdGhyb3cgbmV3IFdhbGxldFNpZ25UcmFuc2FjdGlvbkVycm9yKGVycm9yPy5tZXNzYWdlIHx8ICdUcmFuc2FjdGlvbiBzaWduaW5nIGZhaWxlZCcpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNpZ25BbGxUcmFuc2FjdGlvbnM8VCBleHRlbmRzIFRyYW5zYWN0aW9uIHwgVmVyc2lvbmVkVHJhbnNhY3Rpb24+KFxuICAgIHRyYW5zYWN0aW9uczogVFtdXG4gICk6IFByb21pc2U8VFtdPiB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkgdGhyb3cgbmV3IFdhbGxldE5vdENvbm5lY3RlZEVycm9yKCk7XG4gICAgXG4gICAgLy8gU2lnbiBvbmUgYnkgb25lIHdpdGggdXNlciBhcHByb3ZhbCBmb3IgZWFjaFxuICAgIGNvbnN0IHNpZ25lZDogVFtdID0gW107XG4gICAgZm9yIChjb25zdCB0cmFuc2FjdGlvbiBvZiB0cmFuc2FjdGlvbnMpIHtcbiAgICAgIHNpZ25lZC5wdXNoKGF3YWl0IHRoaXMuc2lnblRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uKSk7XG4gICAgfVxuICAgIHJldHVybiBzaWduZWQ7XG4gIH1cblxuICBhc3luYyBzaWduTWVzc2FnZShtZXNzYWdlOiBVaW50OEFycmF5KTogUHJvbWlzZTxVaW50OEFycmF5PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHRocm93IG5ldyBXYWxsZXROb3RDb25uZWN0ZWRFcnJvcigpO1xuICAgICAgXG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5fc2VuZE1lc3NhZ2UoJ3NpZ25NZXNzYWdlJywge1xuICAgICAgICBtZXNzYWdlOiBCdWZmZXIuZnJvbShtZXNzYWdlKS50b1N0cmluZygnYmFzZTY0JyksXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHJlc3BvbnNlLnNpZ25hdHVyZSwgJ2Jhc2U2NCcpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRocm93IG5ldyBXYWxsZXRTaWduTWVzc2FnZUVycm9yKGVycm9yPy5tZXNzYWdlIHx8ICdNZXNzYWdlIHNpZ25pbmcgZmFpbGVkJyk7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiQmFzZU1lc3NhZ2VTaWduZXJXYWxsZXRBZGFwdGVyIiwiV2FsbGV0UmVhZHlTdGF0ZSIsIldhbGxldENvbm5lY3Rpb25FcnJvciIsIldhbGxldE5vdENvbm5lY3RlZEVycm9yIiwiV2FsbGV0U2lnblRyYW5zYWN0aW9uRXJyb3IiLCJXYWxsZXRTaWduTWVzc2FnZUVycm9yIiwiaXNWZXJzaW9uZWRUcmFuc2FjdGlvbiIsIlB1YmxpY0tleSIsIldFQlNJR19JQ09OIiwiV0VCU0lHX05BTUUiLCJXRUJTSUdfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1dFQlNJR19VUkwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiV2ViU2lnV2FsbGV0QWRhcHRlciIsInB1YmxpY0tleSIsIl9wdWJsaWNLZXkiLCJjb25uZWN0aW5nIiwiX2Nvbm5lY3RpbmciLCJyZWFkeVN0YXRlIiwiVW5zdXBwb3J0ZWQiLCJJbnN0YWxsZWQiLCJfaGFuZGxlTWVzc2FnZSIsImV2ZW50Iiwib3JpZ2luIiwidHlwZSIsImlkIiwiZXJyb3IiLCJkYXRhIiwiX3Jlc3BvbnNlSGFuZGxlcnMiLCJoYXMiLCJyZXNvbHZlIiwicmVqZWN0IiwiZ2V0IiwiZGVsZXRlIiwiRXJyb3IiLCJlbWl0IiwiX2hhbmRsZURpc2Nvbm5lY3QiLCJfc2VuZE1lc3NhZ2UiLCJtZXRob2QiLCJwYXJhbXMiLCJjb25uZWN0ZWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJQcm9taXNlIiwic2V0IiwicG9zdE1lc3NhZ2UiLCJzb3VyY2UiLCJzZXRUaW1lb3V0IiwiY29ubmVjdCIsInVybCIsIlVSTCIsInNlYXJjaFBhcmFtcyIsImRvY3VtZW50IiwidGl0bGUiLCJmYXZpY29uIiwicXVlcnlTZWxlY3RvciIsImhyZWYiLCJpc01vYmlsZSIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpc0Nyb3NzT3JpZ2luIiwiX2NyZWF0ZVBvcHVwIiwiX2NyZWF0ZUludGVncmF0ZWRNb2RhbCIsImV4aXN0aW5nTW9kYWxzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJtb2RhbCIsInN0eWxlIiwiZGlzcGxheSIsImRpYWxvZyIsImNyZWF0ZUVsZW1lbnQiLCJkYXRhc2V0Iiwid2Vic2lnIiwic2V0QXR0cmlidXRlIiwiT2JqZWN0IiwiYXNzaWduIiwiYmFja2dyb3VuZCIsImJvcmRlciIsIm91dGxpbmUiLCJwYWRkaW5nIiwicG9zaXRpb24iLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsImlmcmFtZSIsInNyYyIsImJhY2tncm91bmRDb2xvciIsImJvcmRlclJhZGl1cyIsIndpZHRoIiwiaGVpZ2h0IiwibGVmdCIsInRvcCIsInRyYW5zZm9ybSIsInpJbmRleCIsImlubmVySFRNTCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsImJvZHlTdHlsZSIsIm9wZW5lciIsImNsZWFudXAiLCJib2R5Iiwib3ZlcmZsb3ciLCJvcGVuIiwiY2xvc2UiLCJwYXJlbnROb2RlIiwicmVtb3ZlIiwicmVtb3ZlQ2hpbGQiLCJmb2N1cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsaWNrZWRJbnNpZGUiLCJjbGllbnRYIiwicmlnaHQiLCJjbGllbnRZIiwiYm90dG9tIiwicHJldmVudERlZmF1bHQiLCJoYW5kbGVNZXNzYWdlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFjdGl2ZUVsZW1lbnQiLCJIVE1MRWxlbWVudCIsInNob3dNb2RhbCIsIm1heCIsInNjcmVlbiIsInBvcHVwIiwiY2xlYXJJbnRlcnZhbCIsImNoZWNrSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsb3NlZCIsImRpc2Nvbm5lY3QiLCJjbGVhciIsInNpZ25UcmFuc2FjdGlvbiIsInRyYW5zYWN0aW9uIiwic2VyaWFsaXplZCIsIkJ1ZmZlciIsImZyb20iLCJzZXJpYWxpemUiLCJyZXF1aXJlQWxsU2lnbmF0dXJlcyIsInZlcmlmeVNpZ25hdHVyZXMiLCJyZXNwb25zZSIsIm9wdGlvbnMiLCJpc1ZlcnNpb25lZCIsInNpZ25hdHVyZSIsImFkZFNpZ25hdHVyZSIsIm1lc3NhZ2UiLCJzaWduQWxsVHJhbnNhY3Rpb25zIiwidHJhbnNhY3Rpb25zIiwic2lnbmVkIiwicHVzaCIsInNpZ25NZXNzYWdlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiaWNvbiIsInN1cHBvcnRlZFRyYW5zYWN0aW9uVmVyc2lvbnMiLCJTZXQiLCJNYXAiLCJiaW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../src/adapter.ts\n"));

/***/ })

});